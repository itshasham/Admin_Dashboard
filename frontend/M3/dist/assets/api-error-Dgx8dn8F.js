const u={img:"Main image",title:"Title",unit:"Unit",parent:"Parent",children:"Children",price:"Price",discount:"Discount",quantity:"Quantity",status:"Status",productType:"Product type",description:"Description",imageURLs:"Additional images","brand.name":"Brand","brand.id":"Brand","category.name":"Category","category.id":"Category",contactEmail:"Contact email",whatsappNumber:"WhatsApp number",inquiryOnly:"Inquiry only",professionalUseOnly:"Professional use only","offerDate.startDate":"Offer start date","offerDate.endDate":"Offer end date",name:"Name",modelNumber:"Model number",brand:"Brand",productUrl:"Product URL",availability:"Availability",images:"Images"},f=(r="")=>{const n=String(r||"").trim().replace(/\[(\d+)\]/g,".$1");if(!n)return"";if(u[n])return u[n];const e=n.split(".").pop()||n;return u[e]?u[e]:e.replace(/[_-]+/g," ").replace(/\s+/g," ").trim().replace(/^\w/,t=>t.toUpperCase())},o=(r,n,e)=>{const t=String(e||"").trim();if(!t)return;const g=f(n),s=g?`${g}: ${t}`:t;r.push(s)},m=r=>{const n=new Set;return r.filter(e=>{const t=String(e||"").toLowerCase();return!t||n.has(t)?!1:(n.add(t),!0)})},a=(r,n)=>{const e=String(r||"").trim();return!e||e.toLowerCase()==="validation error"?n:e},h=(r,n="Please review the form and try again.")=>{const e=[];Array.isArray(r==null?void 0:r.errorMessages)&&r.errorMessages.forEach(s=>{o(e,s==null?void 0:s.path,(s==null?void 0:s.message)||(s==null?void 0:s.msg))}),r!=null&&r.errors&&typeof r.errors=="object"&&Object.entries(r.errors).forEach(([s,c])=>{if(Array.isArray(c)){c.forEach(i=>{typeof i=="string"?o(e,s,i):o(e,s,(i==null?void 0:i.message)||(i==null?void 0:i.msg))});return}if(typeof c=="string"){o(e,s,c);return}o(e,s,(c==null?void 0:c.message)||(c==null?void 0:c.msg))}),Array.isArray(r==null?void 0:r.details)&&r.details.forEach(s=>{o(e,s==null?void 0:s.path,(s==null?void 0:s.message)||(s==null?void 0:s.msg))});const t=m(e);return{summary:t.length>0?`Please fix ${t.length} field${t.length===1?"":"s"} and try again.`:a((r==null?void 0:r.message)||(r==null?void 0:r.error),n),issues:t}};export{h as p};
