import{r as o,j as e,L as g,A as p}from"./index-BmyIwrNX.js";const y=()=>{const[a,i]=o.useState(""),[l,t]=o.useState(!1),[d,s]=o.useState(""),[c,m]=o.useState(""),h=async n=>{if(n.preventDefault(),t(!0),s(""),m(""),!a.trim()){s("Please enter your email address"),t(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)){s("Please enter a valid email address"),t(!1);return}try{const r=await fetch(`${p}/admin/forget-password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(r.ok)m("Password reset email has been sent to your email address. Please check your inbox."),i("");else if(r.status===403)s("This feature requires authentication. Please contact your administrator for password reset.");else if(r.status===500)s("Server error occurred. Please try again later or contact support.");else try{const u=await r.json();s(u.message||"Failed to send reset email. Please try again.")}catch{s("An unexpected error occurred. Please try again later.")}}catch(r){console.error("Forgot password error:",r),s("Network error. Please check your connection and try again.")}finally{t(!1)}};return e.jsx("div",{className:"admin-forgot-password",children:e.jsxs("div",{className:"forgot-password-container",children:[e.jsxs("div",{className:"forgot-password-header",children:[e.jsx("h1",{children:"Forgot Password"}),e.jsx("p",{children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsxs("form",{onSubmit:h,className:"forgot-password-form",children:[d&&e.jsx("div",{className:"error-message",children:d}),c&&e.jsx("div",{className:"success-message",children:c}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:a,onChange:n=>i(n.target.value),required:!0,placeholder:"Enter your email address"})]}),e.jsx("button",{type:"submit",className:"reset-btn",disabled:l,children:l?"Sending...":"Send Reset Link"})]}),e.jsx("div",{className:"forgot-password-footer",children:e.jsx(g,{to:"/admin/login",className:"back-to-login",children:"‚Üê Back to Login"})})]})})};export{y as default};
