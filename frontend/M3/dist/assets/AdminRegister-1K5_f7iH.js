import{r as l,u as j,j as e,L as w,A as v}from"./index-BmyIwrNX.js";const N=()=>{const[s,m]=l.useState({name:"",email:"",password:"",confirmPassword:""}),[c,d]=l.useState(!1),[u,r]=l.useState(""),[g,h]=l.useState(""),p=j(),i=o=>{const{name:a,value:t}=o.target;m(n=>({...n,[a]:t}))},f=()=>s.password!==s.confirmPassword?(r("Passwords do not match"),!1):s.password.length<6?(r("Password must be at least 6 characters long"),!1):s.name.trim()?s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?!0:(r("Please enter a valid email address"),!1):(r("Email is required"),!1):(r("Name is required"),!1),x=async o=>{if(o.preventDefault(),d(!0),r(""),h(""),!f()){d(!1);return}try{const a={name:s.name.trim(),email:s.email.trim(),password:s.password},t=await fetch(`${v}/admin/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),n=await t.json();console.log("Registration response:",t.status,n),t.ok?(h("Registration successful! You can now login."),m({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{p("/admin/login")},2e3)):r(n.message||n.error||"Registration failed. Please try again.")}catch(a){console.error("Registration error:",a),r("An error occurred during registration. Please try again.")}finally{d(!1)}};return e.jsx("div",{className:"admin-register",children:e.jsxs("div",{className:"register-container",children:[e.jsxs("div",{className:"register-header",children:[e.jsx("h1",{children:"Admin Registration"}),e.jsx("p",{children:"Create your admin account to get started."})]}),e.jsxs("form",{onSubmit:x,className:"register-form",children:[u&&e.jsx("div",{className:"error-message",children:u}),g&&e.jsx("div",{className:"success-message",children:g}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:i,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0,placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:i,required:!0,placeholder:"Enter your password",minLength:"6"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:i,required:!0,placeholder:"Confirm your password",minLength:"6"})]}),e.jsx("button",{type:"submit",className:"register-btn",disabled:c,children:c?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"register-footer",children:e.jsxs("div",{className:"login-link",children:["Already have an account?"," ",e.jsx(w,{to:"/admin/login",children:"Sign in here"})]})})]})})};export{N as default};
